clear all;close all;clc

xi = [0.2 0.3 0.2 0.1 0.1 0.5 0.7 1.1 1.4 1.6];
yi = [-0.4 0.1 1.1 1.1 0.9 0.7 0.9 1.1 1.3 1.5];

n=length(xi);           
temperature=100*n;      %initialiser température
iter=100; 
for i = 1:10
    P(i).x  = xi(i);
    P(i).y  = yi(i);
end

l=1;                            %??????
len(l)=computer_tour(P,n);   %??????????  
netplot(P,n);                %??????

while temperature>0.001     %??????
    
    for i=1:iter     %??????????????????????????
        len1=computer_tour(P,n);         %????????
        tmp_P=perturb_tour(P,n);      %??????
        len2=computer_tour(tmp_P,n);     %nouvelle distance
        
        delta_e=len2-len1;  %?????????????
        if delta_e<0        %??????????????????
            P=tmp_P;
        else                        %?????????????????????????????????
            if exp(-delta_e/temperature)>rand() %???????????
                P=tmp_P;      %????????
            end
        end        
    end
    l=l+1;
    len(l)=computer_tour(P,n);   %???????
    temperature=temperature*0.99;   %??????
  
end  
figure;
netplot(P,n);             

    
figure;
plot(len)